<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercicio 1</title>
    <link rel="stylesheet" href="stylee.css">
</head>
<body>
    <header>
        <h1>Números</h1>
    </header>
    <section>
        <div>
            <p>
                insira um número de 0 a 100 <input type="number" name="" id="fator">
                <input type="button" value="Adicionar" onclick="adiciona()">
            </p>
        </div>
        <div>
            <select id="msg" multiple="multiple"> </select>
            <input type="button" value="Finalizar" onclick="gerar()">
        </div>
        <div id="resultado">

        </div>
    </section>
    <footer> &copy; Gustavo Dev</footer>
    <script>
        var fator = document.getElementById('fator')
        var msg = document.getElementById('msg')
        var vetor = []
        //verificar se já tem na lista
        function repete(vetor,fator){
            for( let pos in vetor){
                    if(Number(vetor[pos]) == Number(fator.value)){
                        return true
                    }
                }
        }

        function adiciona(){ 
                if(Number(fator.value) > 100 || repete(vetor,fator) == true){
                    alert(`Coe pilantra ${Number(fator.value)} é maior que 100 ou já foi adicionado`)
                    //também para resetar os campos
                    document.getElementById('fator').value = ''
                }else if (fator.value.length == 0){
                    alert('Insere um valor ai') 
                    //Era pra funcionar
                    fator.focus()
                }else{
                    var numero = Number(fator.value)
                    msg.innerHTML += `<option> Número ${numero} adicionado </option>`
                    vetor.push(`${numero}`)
                    //para resetar o campo
                    fator.value = '' 
                    fator.focus()
                }

            resultado.innerHTML = ` ` 
        }
        function gerar(){
            //msg.innerHTML = `<option> Número ${vetor} adicionado </option>`
          var soma  =  0
          let maior = 0
          let menor = vetor[0]
          let media = 0
          vetor.sort()
          var res = document.getElementById('resultado')
          res.innerHTML += ` <p> Temos ${vetor.length} cadastrados </p>`
         for( var i = 0; i < vetor.length;i++){
             soma =  Number(vetor[i]) + soma
            if (Number(vetor[i] > maior )){
                maior = Number(vetor[i])
            }
            if((Number(vetor[i])) < menor ){
                menor = Number(vetor[i])
            }
            media = soma / vetor.length
          }
          res.innerHTML += ` <p> Temos o total de ${soma} </p>`
          res.innerHTML += ` <p> Temos o maior número ${maior} </p>`
          res.innerHTML += ` <p> Temos o menor número ${menor} </p>`
          res.innerHTML += ` <p> Temos a média ${media} </p>`
        }
        //fim 
    </script>
</body>
</html>